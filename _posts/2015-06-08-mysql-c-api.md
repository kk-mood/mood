---
layout: post
title: MySQL的C语言API
categories: [杂碎]
---

其实，标题跟下面的内容没有多大关系。

上周五晚上我写代码的时候，吐槽了一句，说这个MySQL的C API真难用，我以前也没用过，用起来好费劲，老大当时在旁边，什么也没说。结果今天他在代码里面commit了一个`mysql_helper.h` 的头文件和一个库，然后告诉我说，他用C++封装了一下，更方便的使用，以前他用 C# 的时候感觉那个操作 MySQL 的那种 DataTable 的格式很好用，所以模拟那个封装了一个，很方便使用。我问他有考虑内存泄漏吗，他说有考虑到，而且测试过，没有问题。

所以，我想遇到这样一个老大是幸运的，但是也还不够幸运，我期望的最好的是，当时我吐槽的时候，他就说，XXX你去封装一个更方便使用的吧，而不是他直接搞定了丢给你用。有很多次讨论技术问题，我感觉老大的技术水平还是很厉害的。只是他现在是team leader, 我们项目的代码基本是不写的，最多就写写用的库，不然去看看他的代码应该还能学到更多的东西。今天我用他的封装的MySQL的库的时候出现了一个错误：`MYSQL Server has gone away.` 原因是我用了fork来处理进程，并且初始化放在了fork之前，外面的主进程退出了，MySQL 初始化的东西就被close掉了，所以子进程中就连接不上了，导致失败。从老大分析问题的过程和原因是能感受的到这个人的水平的。

<hr />

刚刚写到一半看到了 <b>Fenng</b> 微信推送，然后就去看了，看到最后才发现，那个创业项目是微拍，然后我去装了一个试试，上面基本全都是美女视频，也许这就是传说中的刚需吧，可我现在还不是很能理解。

我决定去把 <b>Fenng</b> 的blog全部过一遍，了解一下这个人，以前只是知道一点点碎片信息关于他的。


2015.06.08	20:43